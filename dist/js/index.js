"use strict";var _createClass=function(){function s(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,i,e){return i&&s(t.prototype,i),e&&s(t,e),t}}();function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}!function(a){a(".reg .load").load("reg.html #insert"),a(".quick-menu>li").each(function(t,i){a(i).hover(function(){a(this).children("a").css({color:"#83b842",textDecoration:"underline",zIndex:1e3}),a(this).find(".mn-cont").show()},function(){a(this).children("a").css({color:"#ccc",textDecoration:"none"}),a(this).find(".mn-cont").hide()})}),a(".mn-cont").children("li").hover(function(){a(this).children("a").css({color:"#83b842",textDecoration:"underline"})},function(){a(this).children("a").css({color:"#666",textDecoration:"none"})}),function(){a(".usereg");var t=a(".userlg"),i=a(".regbg"),e=a(".load");a(".close"),a(".regnav");t.on("click",function(){var t=a(this).index();i.show(),e.show(),a(".regnav").find("li").eq(t).addClass("selected_state").siblings().removeClass("selected_state"),a(".regnav").find("li").eq(t).children("span").addClass("global_bg"),a(".regnav").find("li").eq(t).siblings().children("span").removeClass("global_bg"),a(".user").eq(t).addClass("visible").siblings().removeClass("visible"),i.height(a(window).height()),e.css({left:(a(window).width()-e.width())/2,top:(a(window).height()-e.height())/2}),a(window).on("resize",function(){e.css({left:(a(window).width()-e.width())/2,top:(a(window).height()-e.height())/2})}),a(".regnav").find("li").on("click",function(){var t=a(this).index();a(".regnav").find("li").eq(t).addClass("selected_state").siblings().removeClass("selected_state"),a(".regnav").find("li").eq(t).children("span").addClass("global_bg"),a(".regnav").find("li").eq(t).siblings().children("span").removeClass("global_bg"),a(".user").eq(t).addClass("visible").siblings().removeClass("visible")}),a(".close").on("click",function(){e.hide(),i.hide(),a(".register_form li").not(".regsubmit").children("input").val(""),a(".register_form li i").html(""),a(".direct_form").find("input:text").val(""),a(".direct_form").find("input:password").val("")}),function(){var i=a(".register_form li i"),t=a(".register_form #inpMobile"),e=a(".reglogin input"),s=a(".direct_form #inpAcct"),n=a(".direct_form #inpPwds");a(".direct_form .reglogin i");a("#inpMobile").focus(function(){""===a(this).val()&&(i.eq(0).html("请输入手机号码"),i.eq(0).css("color","#999"),telflag=!1)}),a("#inpMobile").blur(function(){if(""!==a(this).val()){/^1[34578]\d{9}$/.test(this.value)?a.ajax({type:"post",url:o+"reg.php",data:{checkname:t.val()}}).done(function(t){console.log(t),t?(i.eq(0).html("用户已注册"),i.eq(0).css("color","red"),telflag=!1):(i.eq(0).html("✔"),i.eq(0).css("color","green"),telflag=!0)}):(i.eq(0).html("手机号码有误"),i.eq(0).css("color","red"),telflag=!1)}else i.eq(0).html("手机号码不能为空"),i.eq(0).css("color","red"),telflag=!1}),a("#inpPwd").on("focus",function(){""===a(this).val()&&(i.eq(1).html("请输入密码"),i.eq(1).css("color","#999"),telflag=!1)}),a("#inpPwd").on("input",function(){var t=0;switch(/\d+/.test(a(this).val())&&t++,/[A-Z]+/.test(a(this).val())&&t++,/[a-z]+/.test(a(this).val())&&t++,/[\W\_]+/.test(a(this).val())&&t++,t){case 1:case 2:i.eq(1).html("弱"),i.eq(1).css("color","red"),passflag=!1;break;case 3:i.eq(1).html("中"),i.eq(1).css("color","orange"),passflag=!0;break;case 4:i.eq(1).html("强"),i.eq(1).css("color","green"),passflag=!0}}),a("#inpPwd").blur(function(){""!==a(this).val()?6<=a(this).val().length&&a(this).val().length<=12?passflag?(i.eq(1).html("√"),i.eq(1).css("color","green"),passflag=!0):(i.eq(1).html("密码安全不够"),i.eq(1).css("color","red"),passflag=!1):(i.eq(1).html("密码长度不够"),i.eq(1).css("color","red")):(i.eq(1).html("密码不能为空"),i.eq(1).css("color","red"))}),a(".newuser form").submit(function(){if(""===a("#inpMobile").val()&&(i.eq(0).html("手机号码不能为空"),i.eq(0).css("color","red"),telflag=!1),""===a("#inpPwd").val()&&(i.eq(1).html("密码不能为空"),i.eq(1).css("color","red"),passflag=!1),!telflag||!passflag||!l)return!1});var l=!0;a(".register-rule").find("input").on("click",function(){(l=!!a(".register-rule").find("input:checkbox").is(":checked"))?a(".regsubmit").find("input").attr("type","submit"):a(".regsubmit").find("input").attr("type","button")}),e.on("click",function(){a.ajax({type:"post",url:o+"login.php",data:{user:s.val(),password:n.val()},success:function(t){t?(a(".regbg").hide(),a(".load").hide(),a(".mycount").text(s.val())):alert("用户名和密码错误")}})})}()})}();var t,i,o="http://10.31.157.28/js1907/project/php/";function e(){_classCallCheck(this,e),this.focusimg=a(".focusImg"),this.imglist=a(".imgList"),this.blis=a(".imgList li"),this.btnlist=a(".btnList"),this.btnimglist=a(".BtnimgList"),this.slis=a(".BtnimgList a"),this.btnumlist=a(".BtnNumList"),this.btnnumwrap=a(".BtnNumWrap"),this.numas=a(".BtnNumWrap a"),this.left=a(".prev"),this.right=a(".next"),this.index=0,this.timer=null}a.ajax({type:"post",url:o+"bannerdata.php",dataType:"json"}).done(function(t){a.each(t,function(t,i){a(".imgList").find("img").eq(t).attr("src",i.burl),a(".BtnimgList").find("img").eq(t).attr("src",i.surl)})}),(_createClass(e,[{key:"init",value:function(){var t=this;this.liwidth=this.blis.eq(0).width(),this.imglist.css({width:this.imglist.children().length*this.liwidth}),this.focusimg.hover(function(){t.btnimglist.animate({bottom:-405})},function(){t.btnimglist.animate({bottom:-625})}),this.numas.mouseenter(function(){clearInterval(t.timer),t.index=a(this).index(),t.tabswitch(t.index)}),this.numas.mouseleave(function(){t.timer=setInterval(function(){t.right.click()},3e3)}),this.slis.mouseenter(function(){t.index=a(this).index(),t.tabswitch(t.index),clearInterval(t.timer)}),this.slis.mouseleave(function(){t.timer=setInterval(function(){t.right.click()},3e3)}),this.right.hover(function(){clearInterval(t.timer)},function(){t.timer=setInterval(function(){t.right.click()},3e3)}),this.right.click(function(){t.index++,t.index>t.numas.length-1&&(t.imglist.css({left:0}),t.index=0),t.tabswitch(t.index)}),this.left.hover(function(){clearInterval(t.timer)},function(){t.timer=setInterval(function(){t.right.click()},3e3)}),this.left.click(function(){t.index--,t.index<0&&(t.imglist.css({left:6*-t.liwidth}),t.index=6),t.tabswitch(t.index)}),this.timer=setInterval(function(){t.right.click()},3e3)}},{key:"tabswitch",value:function(t){this.numas.eq(t).addClass("cur").siblings().removeClass("cur"),this.slis.find("img").eq(t).addClass("cur"),this.slis.eq(t).siblings().children("img").removeClass("cur"),this.imglist.stop(!0,!0).animate({left:-this.liwidth*t})}}]),new e).init(),a.ajax({type:"post",url:o+"combination.php",dataType:"json"}).done(function(e){a(".sect-item").each(function(t,i){a(i).find("img").attr({src:e[t].url,width:e[t].width,height:e[t].height})})}),a.ajax({url:o+"goodsdata.php",dataType:"json"}).done(function(t){var e="";a.each(t,function(t,i){e='\n                <a href="detail.html?sid='+i.sid+'" title="'+i.title1+'" target="_blank" class="item-img">\n                <img src="'+i.url+'">\n                </a>\n                <h3>'+i.title1+'</h3>\n                <p class="price">\n                ￥<b class="countPrice">'+i.price+'</b>\n                </p>\n                <p>\n                <a title="'+i.title2+'" target="_blank" href="#">'+i.title2+'</a>\n                </p>\n                <p>\n                <span class="recentSale">累计评价：'+i.count+'</span>\n                <a href="#" class="linkCat" target="_blank">'+i.classfy+'<span class="catIcon"></span></a>\n                </p>\n                ',a(".HmColumnShelfGroupCont").find("li").eq(t).html(e)})}),a(document).ready(function(){var i=a(".subcatSection"),s=a(".nav-wrap .nav-main a");a(window).on("scroll",function(){var e=a(this).scrollTop();688<e&&e<16223&&(a("#sideBarContainer").show(),a(".side-tool").show(),a("#sideBarContainer").css({top:0})),e<688&&(a("#sideBarContainer").hide(),a(".side-tool").hide()),16223<=e&&a("#sideBarContainer").stop().animate({top:-300}),10514<e&&e<15689?a(".shelfnav-Wrap").addClass("fixed"):e<10818?a(".shelfnav-Wrap").removeClass("fixed"):15689<=e&&a(".shelfnav-Wrap").removeClass("fixed"),i.each(function(t,i){if($lctop=a(i).offset().top+a(i).height()/2,$lctop>e)return s.eq(t).addClass("active").siblings().removeClass("active"),s.eq(t).find(".mn-txt").children().addClass("slct-mark"),s.eq(t).siblings().find(".mn-txt").children().removeClass("slct-mark"),!1})}),a(".s-tool-totop").on("click",function(){a("html,body").scrollTop(0)}),s.hover(function(){a(this).addClass("active").siblings().removeClass("active"),a(this).find(".mn-txt").children().addClass("slct-mark"),a(this).siblings().find(".mn-txt").children().removeClass("slct-mark")}),s.on("click",function(){var t=i.eq(a(this).index()).offset().top-55;a("html,body").animate({scrollTop:t})})}),t=[],i=null,getcookie("cookiesid")&&getcookie("cookienum")&&(getcookie("cookiesid").split(","),t=getcookie("cookienum").split(",")),t.forEach(function(t){i+=parseInt(t)}),a(".sc-count").html(i),a(".top-cart").html(i),a(".pubCartNote").html(i)}(jQuery);